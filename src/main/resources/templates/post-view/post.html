<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{/fragments/head :: head}">


<body class="sub_page">

  <div class="hero_area">
    <div class="bg-box">
      <img src="/images/images.jpg" alt="">
    </div>
    <header th:replace="~{/fragments/header :: header}">
  </div>

  <!-- about section -->

  <section class="about_section layout_padding">
    <div class="container  ">
      <div class="post">
        <h3><a th:text="${post.name}">Title</a></h3>
        <h5 th:text="'Author: '+ ${post.account.firstName} + 
            ' | Created at: '+${#temporals.format(post.createdAt, 'yyyy-MM-dd HH:mm')} +
            ' | Updated at: '+${#temporals.format(post.updatedAt, 'yyyy-MM-dd HH:mm')}"></h5>
            
            <div class="post-content">
              <div class="post-body" th:utext="${post.body}">body</div>
            
              <span class="read-more" onclick="toggleReadMore(this)">
                Read more
              </span>
            </div>

            <script>
               function toggleReadMore(el) {
               const body = el.closest(".post-content").querySelector(".post-body");

               body.classList.toggle("expanded");

               el.textContent = body.classList.contains("expanded")
               ? "Read less"
              : "Read more";
             }
              </script>
          
            <hr color="grey" />
        <div class="align-right" sec:authorize="isAuthenticated()" th:if=" ${isOwner}">
          <a th:href="@{'/post/' + ${post.id} + '/edit'}" class="btn btn-secondary btn-lg active" role="button"
            aria-pressed="true">Edit</a> |
         <a id="delete" th:href="@{'/posts/' + ${post.id} + '/delete'}" class="btn btn-danger btn-lg active"
            role="button" aria-pressed="true">Delete</a>
        </div>
      </div>
    </div>
  </section>
  <footer th:replace="~{/fragments/footer :: footer}">
</body>

</html>